window.__require=function i(e,t,a){function n(s,c){if(!t[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!c&&h)return h(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var u=t[s]={exports:{}};e[s][0].call(u.exports,function(i){return n(e[s][1][i]||i)},u,u.exports,i,e,t,a)}return t[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<a.length;s++)n(a[s]);return n}({Bianliang:[function(i,e){"use strict";cc._RF.push(e,"5ec89jahtNK2bnSOx/Cnnns","Bianliang"),window.userData={guanka:[],guankan:120,nowguanka:0,skin:[],userskin:0,yindaoxian:20,gold:0,caozuomoshi:1,yinyue:!0,firstgame:!0,uptime:0,nengliang:10},window.heroData={state:0,step:0,jumpcount:1,jumpcountn:1,xingxing:3,caidan:!1,girldie:!1,help:!1},window.statecolor=(new cc.Color).fromHEX("#13BB93"),window.dycolor=(new cc.Color).fromHEX("#A1AA40"),window.skin={lock:!0,type:0,gold:500},window.weiba={lock:!0,type:0,gold:500},window.bianjie1={x1:-1e8,x2:1e8,y1:-1e8,y2:1e8},window.youjuqing=!1,window.tiaojianscr=0,window.yinyue=0,window.shuxing=[],window.timescale=1,window.juqingrect=new cc.Rect(0,0,0,0),window.buzhou=0,window.usetime=0,window.juqinganim1=0,window.juqinganim2=0,window.q_moshi=1,window.q_xuanzheguanka=-1,window.q_dqguanka=0,window.mapxingxing={caidan:!1,step1:0,step2:0,step3:0,maxstep:0},window.gameclub=!1,window.helps=[],window.isjilu=!1,window.y_mapweizhi=cc.v2(0,0),window.gameState=0,window.touchhero=!1,window.iswin=!1,window.islose=!1,window.chushi=function(){y_mapweizhi=cc.v2(0,0),gameState=0,heroData.state=0,heroData.step=0,heroData.jumpcount=1,heroData.jumpcountn=1,heroData.xingxing=3,heroData.caidan=!1,heroData.girldie=!1,youjuqing=!1,tiaojianscr=0,yinyue=0,shuxing=[],timescale=1,juqingrect=new cc.Rect(0,0,0,0),buzhou=0,window.iswin=!1,window.islose=!1,window.helps=[],window.isjilu=!1},cc._RF.pop()},{}],Cameragensui:[function(i,e){"use strict";cc._RF.push(e,"acc5dzfVTFASJc3c5xsUNAZ","Cameragensui");var t,a,n,o=160,s=0,c=160,r=!0,h=!0,u=.6,g=!1,d=cc.v2(0,0),p=cc.v2(0,0);cc.Class({extends:cc.Component,properties:{heronode:cc.Node,camera:cc.Camera,canvas:cc.Node,beginnode:cc.Node,girlnode:cc.Node},onLoad:function(){this.chushihua(),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.canvas.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this)},chushihua:function(){o=160,s=0,c=160,r=!0,h=!0,u=.6},init:function(){var i=cc.view.getFrameSize();o-=320*(i.width/i.height-1.5),s=480-o;var e=i.width/i.height*640,t=bianjie1.x2-bianjie1.x1+320;u=e/t;var a=(bianjie1.x2+bianjie1.x1)/2,n=240/u;n<this.heronode.position.y&&(n=this.heronode.position.y),this.node.position=cc.v2(a,n),this.camera.zoomRatio=u,gameState=0,this.girlnode=cc.find("Lmap/star/star")},lateUpdate:function(i){if(0!=gameState)if(10!=gameState)if(1!=gameState)this.updateposition(),this.resetzoom(i);else if(this.camera.zoomRatio<1){this.camera.zoomRatio=this.camera.zoomRatio+i*n;var e=this.node.getPosition();e.x+=i*t,e.y+=i*a,this.node.position=e}else gameState=2,this.heronode.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,this.camera.zoomRatio=1;else this.juqingcamera(i)},juqingcamera:function(i){var e=buzhou-1;if(0==shuxing[e].mubiao)var t=this.heronode;else t=this.girlnode;if(0==shuxing[e].moshi&&(this.camera.zoomRatio=shuxing[e].scale,this.juqingcameraposition(t)),1==shuxing[e].moshi){var a=shuxing[e].time-usetime;if(0!=a)if(Math.abs(shuxing[e].scale-this.camera.zoomRatio)<.01)this.camera.zoomRatio=shuxing[e].scale,this.juqingcameraposition(t);else{this.camera.zoomRatio+=(shuxing[e].scale-this.camera.zoomRatio)/a*i;var n=t.position.sub(this.node.position);n=n.mult(i/a),this.node.position=this.node.position.add(n)}}usetime=i+usetime},juqingcameraposition:function(i){this.node.setPosition(i.position)},panduanbianjiey:function(i,e){var t=c;return i.y<=bianjie1.y1+t?bianjie1.y1+t:1==e&&i.y>=bianjie1.y2-t?bianjie1.y2-t:i.y},panduanbianjiex:function(i){var e=s;return i.x<=bianjie1.x1+e?bianjie1.x1+e:i.x>=bianjie1.x2-e?bianjie1.x2-e:i.x},resetzoom:function(i){r&&(this.camera.zoomRatio<1?this.camera.zoomRatio=this.camera.zoomRatio+2*i:this.camera.zoomRatio=1)},updateposition:function(){if(h){var i=cc.v2(0,0);i.x=this.panduanbianjiex(this.heronode.position),i.y=this.panduanbianjiey(this.heronode.position,0),this.node.setPosition(i)}},jisuanv:function(){var i=this.heronode.position;i.x=this.panduanbianjiex(this.heronode.position),i.y=this.panduanbianjiey(this.heronode.position,0),n=(1-this.camera.zoomRatio)/1.5,t=(i.x-this.node.position.x)/1.5,a=(i.y-this.node.position.y)/1.5,this.beginnode.active=!1},_touchEndEvent:function(){0==gameState&&(gameState=1,this.jisuanv()),r=!0,h=!0,g=!1},_touchMoveEvent:function(i){if(2==gameState&&0==heroData.state){var e=i.getTouches();if(e.length<=2&&touchhero){if(g||(p=this.node.convertToNodeSpaceAR(this.heronode.position).neg(),d=this.node.position,g=!0,r=!1,cc.log(this.heronode.position+"  "+this.node.position),cc.log(p)),h=!1,this.camera.zoomRatio>.4){var t=(a=i.touch.getDelta()).mag();this.camera.zoomRatio=this.camera.zoomRatio-t/600,this.node.position=d.add(p.mul(1/this.camera.zoomRatio-1))}}else if(1==e.length){h=!1;var a=i.touch.getDelta(),n=cc.v2(this.node.x+3*a.x,this.node.y+3*a.y);this.node.x=this.panduanbianjiex(n),this.node.y=this.panduanbianjiey(n,0)}}}}),cc._RF.pop()},{}],Getbone:[function(i,e){"use strict";cc._RF.push(e,"809a9sWaDBL85QsoWCSqE7r","Getbone"),cc.Class({extends:cc.Component,properties:{_armature:null,_armatureDisplay:null,bone:[]},init:function(){this._armatureDisplay=this.getComponent(dragonBones.ArmatureDisplay),this._armature=this._armatureDisplay.armature(),this.huoqubone()},huoqubone:function(){for(var i,e=0;e<9;e++)i=e+1,this.bone[e]=this._armature.getBone("bone"+i)}}),cc._RF.pop()},{}],Girlscr:[function(i,e){"use strict";cc._RF.push(e,"4f904RrOf9H04yjAq7XMENt","Girlscr"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Grapscr:[function(i,e){"use strict";cc._RF.push(e,"636f2MyC0xANbXRxLLX9wIO","Grapscr"),cc.Class({extends:cc.Component,properties:{grap:cc.Graphics,rigidbody:cc.RigidBody,phy:cc.PhysicsPolygonCollider,prefab:cc.Prefab},onLoad:function(){},init:function(i,e){this.grap.moveTo(0,0),this.phy.points[0]=cc.v2(0,0);for(var t=0;t<i.length;t++)i[t].y=-i[t].y;for(t=0;t<i.length;t++){if(0!=t&&(this.phy.points[t]=cc.v2(i[t].x,i[t].y),this.grap.lineTo(i[t].x,i[t].y)),0==t)var a=i[i.length-1],n=i[t];else n=i[t],a=i[t-1];var o=cc.pDistance(n,a),s=this._getAngle(cc.pSub(n,a));s=-s;var c=cc.instantiate(this.prefab);c.parent=this.node;var r=cc.pMidpoint(n,a);c.setPosition(r.x,r.y),c.rotation=s,c.width=o,c.height=3,1==e&&(c.color=dycolor)}this.phy.apply(),1==e&&(this.rigidbody.type=cc.RigidBodyType.Dynamic,this.grap.fillColor=dycolor),this.grap.close(),this.grap.fill()},start:function(){},_getAngle:function(i){var e=cc.v2(0,0);return this._angle=Math.atan2(i.y-e.y,i.x-e.x)*(180/Math.PI),this._angle}}),cc._RF.pop()},{}],Hero:[function(i,e){"use strict";cc._RF.push(e,"20e41ADg/1DxpoyrL9nCyK8","Hero");var t,a=i("gameUIscr"),n=0;cc.Class({extends:cc.Component,properties:{herophy:cc.PhysicsCircleCollider,rigidbody:cc.RigidBody,gameuiscr:a,starnode:cc.Node,juqingaduio:cc.AudioSource,jumpaduio:cc.AudioSource,winaduio:cc.AudioSource,loseaduio:cc.AudioSource,bgaduio:cc.AudioSource,heroanim:dragonBones.ArmatureDisplay,girlanim:dragonBones.ArmatureDisplay,girlnode:cc.Node},onLoad:function(){t=this},init:function(){this.girlnode=this.starnode.children[0],userData.yinyue?this.bgaduio.play():this.bgaduio.stop()},start:function(){cc.director.getCollisionManager().enabled=!0},update:function(){0!=gameState&&(iswin&&(heroData.girldie||(this.rigidbody.type=cc.RigidBodyType.Static,this.girlnode.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,10!=gameState&&this.win())),2==gameState&&(this.panduandead(),0!=heroData.state&&youjuqing&&10!=gameState&&this.panduanjuqing()),0!=heroData.state&&this.rigidbody.linearVelocity.mag()<1&&++n>7&&(heroData.state=0,heroData.jumpcount=heroData.jumpcountn,n=0))},panduandead:function(){if((this.node.x<bianjie1.x1-20||this.node.x>bianjie1.x2+20||this.node.y<bianjie1.y1-20)&&(this.rigidbody.type=cc.RigidBodyType.Static,this.girlnode.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.lose()),this.girlnode.x<bianjie1.x1-20||this.girlnode.x>bianjie1.x2+20||this.girlnode.y<bianjie1.y1-20){if(heroData.girldie=!0,youjuqing&&(this.panduanjuqing(),10==gameState))return;this.rigidbody.type=cc.RigidBodyType.Static,this.girlnode.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.lose()}},onBeginContact:function(i,e,t){this.panduan(t,i),this.setnode(t),this.setzhan(t)},onEndContact:function(i,e,t){this.resetnode(t),this.resetzhan(t)},onPreSolve:function(){},onPostSolve:function(){},win:function(){gameState=4,this.winaduio.play(),this.bgaduio.stop(),heroData.caidan&&(userData.guanka[q_xuanzheguanka].caidan=!0,heroData.xingxing=3),heroData.xingxing>userData.guanka[q_xuanzheguanka].xingxing&&(userData.guanka[q_xuanzheguanka].xingxing=heroData.xingxing,qudaoscr.setscore()),userData.guanka[q_xuanzheguanka+1].suoding=!1,cc.sys.localStorage.setItem("userData",JSON.stringify(userData)),iswin=!1,this.gameuiscr.Gamenext()},lose:function(){5!=gameState&&4!=gameState&&(gameState=5,this.gameuiscr.Gameover(),this.loseaduio.play(),this.bgaduio.stop(),this.rigidbody.gravityScale=0,this.rigidbody.linearVelocity=cc.v2())},panduan:function(i,e){switch(i.tag){case 10:iswin=!0;break;case 11:break;case 3:this.lose();break;case 4:heroData.caidan=!0,e.disabled=!0,i.node.active=!1}},setzhan:function(i){2==i.tag&&(this.rigidbody.gravityScale=0,this.rigidbody.linearVelocity=cc.v2())},resetzhan:function(i){2==i.tag&&(this.rigidbody.gravityScale=5)},setnode:function(i){100==i.getComponent(cc.RigidBody).gravityScale&&(i.getComponent("Moveto").ishold=!0)},resetnode:function(i){100==i.getComponent(cc.RigidBody).gravityScale&&(i.getComponent("Moveto").ishold=!1)},fashe:function(i,e){heroData.state=1,this.rigidbody.linearVelocity=cc.v2(i,e),heroData.jumpcount=heroData.jumpcount-1,this.jumpaduio.play()},isenter:function(i){for(var e=0;e<10;e++){var t=i-.03*e,a=cc.v2(0,0);if(a.x=this.rigidbody.linearVelocity.x*t,a.y=(2*this.rigidbody.linearVelocity.y-1600*t)*t/2,a=this.node.position.add(a),juqingrect.contains(a))return!0}return!1},settime:function(){var i=shuxing[buzhou].timescale/timescale;timescale=shuxing[buzhou].timescale,this.rigidbody.linearVelocity=this.rigidbody.linearVelocity.mul(i),this.rigidbody.gravityScale=this.rigidbody.gravityScale*i*i;var e=this.girlnode.getComponent(cc.RigidBody);e.linearVelocity=e.mul(i),e.gravityScale=e.gravityScale*i*i},huanyuan:function(){if(10==gameState){var i=1/timescale;timescale=1,this.rigidbody.linearVelocity=this.rigidbody.linearVelocity.mul(i),this.rigidbody.gravityScale=5;var e=this.girlnode.getComponent(cc.RigidBody);e.linearVelocity=e.mul(i),e.gravityScale=5,this.heroanim.playAnimation("waitxia"),this.girlanim.playAnimation("girlwait")}},setanim:function(){if(0!=shuxing[buzhou].anim1)switch(shuxing[buzhou].anim1){case 1:this.heroanim.playAnimation("aixinboy");break;case 2:this.heroanim.playAnimation("jinjiao")}if(0!=shuxing[buzhou].anim2)switch(shuxing[buzhou].anim2){case 1:this.girlanim.playAnimation("aixingirl")}},loadjuqing:function(){if(buzhou==shuxing.length)return t.huanyuan(),gameState=2,buzhou=0,void(youjuqing=!1);t.settime(),usetime=0,t.setanim(),t.scheduleOnce(t.xxx,shuxing[buzhou].time),buzhou++},xxx:function(){this.scheduleOnce(t.loadjuqing,0)},panduanjuqing:function(){tiaojianscr.time&&!this.isenter(tiaojianscr.time)||tiaojianscr.getcaidan&&!heroData.caidan||tiaojianscr.girldie&&!heroData.girldie||(this.heroanim=this.node.getChildByName("Heroanim").getComponent(dragonBones.ArmatureDisplay),this.girlanim=this.girlnode.getComponent(dragonBones.ArmatureDisplay),this.juqingaduio.play(),this.bgaduio.stop(),gameState=10,this.loadjuqing())}}),cc._RF.pop()},{gameUIscr:"gameUIscr"}],Loadmap:[function(i,e){"use strict";cc._RF.push(e,"5b662q0b1FIx63ZOS+qAWSX","Loadmap");var t,a=i("Cameragensui"),n=i("starScr");cc.Class({extends:cc.Component,properties:{canvas:cc.Node,heronode:cc.Node,tilemap01:cc.Node,zhangainode:cc.Node,starnode:cc.Node,backgroud:cc.Node,backbg:cc.Node,juqingsound:cc.Node,helpnode:cc.Node,zhangaiprefab:cc.Prefab,tanlizhangai:cc.Prefab,zhanprefab:cc.Prefab,chuanprefab:cc.Prefab,tanprefab:cc.Prefab,starprefab:cc.Prefab,doorprefab:cc.Prefab,jianprefab:cc.Prefab,objprefab:cc.Prefab,yuanfrefab:cc.Prefab,camerascript:a,starscr:n},onLoad:function(){if(1==q_moshi){var i="Map/guan"+q_xuanzheguanka;this.onLoadTileMap(i,this.tilemap01)}},start:function(){},update:function(){},onLoadTileMap:function(i,e){var t=this;cc.loader.loadRes(i,cc.TiledMapAsset,function(i,a){i?cc.error(i):(t.onCreateTileMap(a,e),t.camerascript.init(),t.starscr.init(),t.heronode.getComponent("Hero").init(),t.canvas.zIndex=-1)})},onCreateTileMap:function(i,e){var a=e.getComponent(cc.TiledMap);a.tmxAsset=i,t=cc.size(20*a.getMapSize().width,20*a.getMapSize().height),e.setPosition(10*a.getMapSize().width+y_mapweizhi.x,10*a.getMapSize().height+y_mapweizhi.y),this.Setzhangai(a),this.Setbianjie(a,e),this.backgroud.width=20*a.getMapSize().width+60,this.backgroud.height=80*a.getMapSize().height,this.backgroud.position=cc.v2(e.position.x,-30),this.backbg.width=20*a.getMapSize().width+1500,this.backbg.height=80*a.getMapSize().height+1500,this.backbg.position=cc.v2(e.position.x,-1500),a.getObjectGroup("duixiang").enabled=!1},Setbianjie:function(i,e){"map01"==e.name&&(bianjie1.x1=e.getPosition().x-10*i.getMapSize().width,bianjie1.x2=e.getPosition().x+10*i.getMapSize().width,bianjie1.y1=e.getPosition().y-10*i.getMapSize().height,bianjie1.y2=e.getPosition().y+10*i.getMapSize().height)},Setzhangai:function(i){var e=i.getObjectGroup("duixiang");if(null!==e)for(var a=e.getObjects(),n=0;n<a.length;n++)switch(a[n].name){case"floor":this.setprefab(a[n],this.zhangaiprefab,1,this.zhangainode);break;case"floordy":this.setprefab(a[n],this.zhangaiprefab,1,this.zhangainode,!0);break;case"tanlizhangai":this.setprefab(a[n],this.tanlizhangai,1,this.zhangainode);break;case"chuan":this.setprefab(a[n],this.chuanprefab,1,this.zhangainode);break;case"zhan":this.setprefab(a[n],this.zhanprefab,1,this.zhangainode);break;case"jian":this.setprefab(a[n],this.jianprefab,1,this.zhangainode);break;case"star":this.setprefab(a[n],this.starprefab,2,this.starnode);break;case"caidan":this.setprefab(a[n],this.tanprefab,2,this.zhangainode);break;case"door":this.setprefab(a[n],this.doorprefab,2,this.zhangainode);break;case"xiantiao":this.setxiantiao(a[n],this.zhangaiprefab,this.zhangainode);break;case"hero":this.heronode.setPosition(a[n].offset.x,t.height-a[n].offset.y-a[n].height/2);break;case"map":var o=a[n];mapxingxing.caidan=o.caidan,mapxingxing.step1=parseInt(o.step1),mapxingxing.step2=parseInt(o.step2),mapxingxing.step3=parseInt(o.step3),mapxingxing.maxstep=mapxingxing.step1+mapxingxing.step2+mapxingxing.step3,("true"==o.help||heroData.help)&&(heroData.help=!1,this.helpnode.getComponent("helpscr").init());break;case"objst":this.setobj(a[n],this.objprefab,0);break;case"objdy":this.setobj(a[n],this.objprefab,1);break;case"yuanst":this.setyuan(a[n],this.yuanfrefab,0);break;case"yuandy":this.setyuan(a[n],this.yuanfrefab,1);break;case"juqing":this.loadjuqing(a[n])}},loadjuqing:function(i){var e=i,t=this;cc.loader.loadRes("Sound/"+e.yinyue,cc.AudioClip,function(i,e){yinyue=e,t.juqingsound.getComponent(cc.AudioSource).clip=yinyue}),youjuqing=!0;var a=t.getzuobiao1(i),n=a[0]-a[2]/2,o=a[1]-a[3]/2;juqingrect=cc.rect(n,o,a[2],a[3]),shuxing=JSON.parse(e.type),tiaojianscr=JSON.parse(e.tiaojian)},setyuan:function(i,e,t){var a=i.width/2,n=cc.instantiate(e);n.parent=this.zhangainode;var o=this.getposition(i);o=o.add(cc.v2(a,-a)),n.setPosition(o),n.getComponent("yuanscr").init(a,t)},setobj:function(i,e,t){var a=i.points,n=cc.instantiate(e);n.parent=this.zhangainode;var o=this.getposition(i);n.setPosition(o),n.getComponent("Grapscr").init(a,t)},setxiantiao:function(i,e){var t=i.polylinePoints,a=new cc.Node("xiantiaoxie");a.parent=this.zhangainode;var n=this.getzuobiao1(i);a.setPosition(n[0],n[1]);for(var o=0;o<t.length;o++)t[o].y=-t[o].y;for(o=0;o<t.length-1;o++){var s=cc.pDistance(t[o+1],t[o])+6,c=this._getAngle(cc.pSub(t[o+1],t[o]));c=-c;var r=cc.instantiate(e);r.parent=a;var h=cc.pMidpoint(t[o+1],t[o]);r.setPosition(h.x,h.y),r.rotation=c,r.width=s,r.height=10;var u=r.getComponent(cc.PhysicsBoxCollider);u.size.width=s,u.size.height=10,u.apply()}},setprefab:function(i,e,t,a,n){var o=i,s=this.getzuobiao1(i),c=cc.instantiate(e);if(c.parent=a,c.setPosition(s[0],s[1]),c.rotation=s[4],1==t){c.width=s[2],c.height=s[3];var r=c.getComponent(cc.PhysicsBoxCollider);r.size.width=s[2],r.size.height=s[3],r.apply()}if(n&&(c.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,c.color=cc.hexToColor("#D2DD53")),null!=o.x1&&null==o.x2){var h=c.addComponent("Moveto");c.getComponent(cc.RigidBody).gravityScale=100;var u=cc.v2(parseInt(o.x1),parseInt(o.y1));h.setmoveto(u)}if(null!=o.x1&&null!=o.x2){h=c.addComponent("Moveto"),c.getComponent(cc.RigidBody).gravityScale=100,u=cc.v2(parseInt(o.x1),parseInt(o.y1));var g=cc.v2(parseInt(o.x2),parseInt(o.y2));h.setmoveto2(u,g)}},getposition:function(i){return cc.v2(i.offset.x,t.height-i.offset.y)},getzuobiao1:function(i){var e=i,a=i.offset.x+y_mapweizhi.x,n=t.height-i.height-i.offset.y+y_mapweizhi.y,o=i.offset.x+i.width+y_mapweizhi.x,s=t.height-i.offset.y+y_mapweizhi.y,c=(a+o)/2,r=(n+s)/2,h=-e.rotation*(Math.PI/180);return[(c-a)*Math.cos(h)-(r-s)*Math.sin(h)+a,(r-s)*Math.cos(h)+(c-a)*Math.sin(h)+s,i.width,i.height,e.rotation]},_getAngle:function(i){var e=cc.v2(0,0);return this._angle=Math.atan2(i.y-e.y,i.x-e.x)*(180/Math.PI),this._angle}}),cc._RF.pop()},{Cameragensui:"Cameragensui",starScr:"starScr"}],Moveto:[function(i,e){"use strict";cc._RF.push(e,"c9ac3U7Y4VGirVRfArnhCpm","Moveto"),cc.Class({extends:cc.Component,properties:{_actions:[],ismove:!1,_speed:200},start:function(){this.heronode=cc.find("Hero"),this.ishold=!1,this.dq=0,this.dqmovejuli=cc.v2()},setmoveto:function(i){this._actions[0]=i,this._actions[1]=i.neg(),this.ismove=!0,this.dq=0},setmoveto2:function(i,e){this._actions[0]=i,this._actions[1]=e,this._actions[2]=e.neg(),this._actions[3]=i.neg(),this.ismove=!0,this.dq=0},_getDistance:function(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))},setheroposition:function(i){if(this.ismove){var e=this._actions[this.dq].normalizeSelf();e=e.mul(i*this._speed),this.dqmovejuli=this.dqmovejuli.add(this.dqmovejuli),this.dqmovejuli.magSqr()>=this._actions[this.dq].magSqr()&&(e=this._actions[this.dq].sub(this.dqmovejuli.sub(e)),this.dqmovejuli=cc.v2(),this.dq+=1,this.dq==this._actions.length&&(this.dq=0));var t=this.node.getPosition().add(e);if(this.node.setPosition(t),this.ishold){var a=this.heronode.getPosition().add(e);this.heronode.setPosition(a)}}},update:function(i){this.setheroposition(i*timescale)}}),cc._RF.pop()},{}],Touchanim:[function(i,e){"use strict";var t,a,n,o;cc._RF.push(e,"a18b8BcEztMuIYtCuGg2g4m","Touchanim"),cc.Class({extends:cc.Component,properties:{donghua:cc.Node,xingxing:cc.Node,rigidbody:cc.RigidBody,cameranode:cc.Camera,graph:cc.Graphics,yaogannode:{default:null,type:cc.Node,displayName:"\u6447\u6746\u8282\u70b9"},dot:{default:null,type:cc.Node,displayName:"\u6447\u6746\u4e2d\u5fc3\u8282\u70b9"},ring:{default:null,type:cc.Node,displayName:"\u6447\u6746\u80cc\u666f\u8282\u70b9"},_getbone:null,_hero:null,_camera:null},onLoad:function(){0==userData.caozuomoshi?this._initTouchEvent():(this.yaogannode.active=!0,this.inityaogan()),this._getbone=this.donghua.getComponent("Getbone"),this._hero=this.node.getComponent("Hero"),this._camera=this.cameranode.getComponent("Cameragensui"),cc.director.getPhysicsManager().enabled=!0,t=1.2*this.node.width,a=.5*this.node.width},inityaogan:function(){this.yaogannode.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this),this.yaogannode.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.yaogannode.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this),this.yaogannode.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},_initTouchEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},_touchStartEvent:function(i){if(2==gameState&&(touchhero=!0,1==userData.caozuomoshi)){var e=this.yaogannode.convertToNodeSpaceAR(i.getLocation());this.ring.setPosition(e),this.dot.setPosition(e),this.yaogannode.opacity=80}},_touchMoveEvent:function(i){if(!(2!=gameState||heroData.jumpcount<1)){if(0==userData.caozuomoshi){var e=this.cameranode.getCameraToWorldPoint(i.getLocation()),a=this._getDistance(e,this.node.getPosition());this._getAngle(this.node.position,e)}if(1==userData.caozuomoshi){e=this.ring.convertToNodeSpaceAR(i.getLocation()),a=this._getDistance(e,cc.v2(0,0)),this._getAngle(cc.v2(0,0),e);var n=this.ring.width/2;if(n>a)this.dot.position=this.yaogannode.convertToNodeSpaceAR(i.getLocation());else{var o=e.normalizeSelf(e).mul(n);o=o.add(this.ring.position),this.dot.setPosition(o)}}t<a&&(a=t),this.bianxing(a,this._angle),this.shexian()}},_touchEndEvent:function(){if(touchhero=!1,isjilu){var i={position:cc.v2(0,0),point:[]};i.position=this.node.position;for(var e=1;e<20;e++){var t=.03*n*e,a=.03*(o-48*e+o)*e/2;i.point.push(cc.v2(t,a))}helps.push(i),isjilu=!1}if(1==userData.caozuomoshi&&(this.yaogannode.opacity=10,this.dot.position=this.ring.position),0==gameState)return gameState=1,void this._camera.jisuanv();2!=gameState||heroData.jumpcount<1||0==n&&0==o||(this.setstep(),this.fuyuan(),this._hero.fashe(n,o),n=0,o=0,this.graph.clear())},setstep:function(){heroData.step++;var i=this.xingxing.getChildByName("filled"),e=this.xingxing.getChildByName("star").children,t=470-heroData.step/mapxingxing.maxstep*470;t>=0&&(i.width=t),heroData.step>mapxingxing.step1+mapxingxing.step2?(heroData.xingxing=1,e[1].active=!1):heroData.step>mapxingxing.step1&&(heroData.xingxing=2,e[2].active=!1)},_getDistance:function(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))},_getAngle:function(i,e){return this._angle=Math.atan2(e.y-i.y,e.x-i.x)*(180/Math.PI),this._angle},fuyuan:function(){for(var i=0;i<this._getbone.bone.length;i++)this._getbone.bone[i].offset.x=0,this._getbone.bone[i].offset.y=0},shexian:function(){this.graph.clear();for(var i=1;i<20;i++){var e=.03*n*i,t=.03*(o-48*i+o)*i/2;this.graph.circle(e,t,1)}this.graph.stroke()},bianxing:function(i,e){for(var s=Math.cos(e*(Math.PI/180))*a,c=Math.sin(e*(Math.PI/180))*a,r=cc.v2(s,c),h=0;h<this._getbone.bone.length;h++){var u=cc.v2(this._getbone.bone[h].global.x,-this._getbone.bone[h].global.y),g=this._getDistance(u,r),d=Math.cos(e*(Math.PI/180))*g*i/t*.6,p=-Math.sin(e*(Math.PI/180))*g*i/t*.6;n=-Math.cos(e*(Math.PI/180))*i/t*1e3,o=-Math.sin(e*(Math.PI/180))*i/t*1e3,this._getbone.bone[h].offset.x=d,this._getbone.bone[h].offset.y=p}}}),cc._RF.pop()},{}],dragonBone:[function(i,e){"use strict";cc._RF.push(e,"813b9wMXjFDN4P40SrxyiZP","dragonBone"),cc.Class({extends:cc.Component,properties:{dragonBonesAsset:dragonBones.DragonBonesAsset,dragonBonesAtlasAsset:dragonBones.DragonBonesAtlasAsset,armatureName:{default:"",tooltip:"\u5f53\u524d\u7684 Armature \u540d\u79f0\u3002"},animationName:{default:"",tooltip:"\u5f53\u524d\u64ad\u653e\u7684\u52a8\u753b\u540d\u79f0"},dragonDir:{default:"",tooltip:"\u9aa8\u9abc\u52a8\u753bjson\u6587\u4ef6\u6240\u5728\u76ee\u5f55"},timeScale:{default:1,tooltip:"\u5f53\u524d\u9aa8\u9abc\u4e2d\u6240\u6709\u52a8\u753b\u7684\u65f6\u95f4\u7f29\u653e\u7387"},playTimes:{default:0,tooltip:"\u64ad\u653e\u9ed8\u8ba4\u52a8\u753b\u7684\u5faa\u73af\u6b21\u6570 -1 \u8868\u793a\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u9ed8\u8ba4\u503c; 0 \u8868\u793a\u65e0\u9650\u5faa\u73af >1 \u8868\u793a\u5faa\u73af\u6b21\u6570"}},onLoad:function(){this.armatureDisplay=this.node.addComponent(dragonBones.ArmatureDisplay),this.armatureDisplay.dragonAsset=null,this.armatureDisplay.dragonAtlasAsset=null,this.armatureDisplay.armatureName=null,this._isMecha?(this._isMecha=!1,this.loadDragonBones(this.armatureDisplay,this.dragonDir,this.armatureName,this.animationName,this.playTimes)):(this._isMecha=!0,this.loadDragonBones(this.armatureDisplay,this.dragonDir,this.armatureName,this.animationName,this.playTimes))},loadDragonBones:function(i,e,t,a){var n=this;cc.loader.loadResDir(e,function(e,o){if(!(e||o.length<=0)){i.armatureName="",i.dragonAsset=null,i.dragonAtlasAsset=null;for(var s=0;s<o.length;s++)o[s]instanceof dragonBones.DragonBonesAsset&&(i.dragonAsset=o[s]),o[s]instanceof dragonBones.DragonBonesAtlasAsset&&(i.dragonAtlasAsset=o[s]);i.armatureName=t,i.timeScale=n.timeScale,i.playAnimation(a,n.playTimes),"Heroanim"==n.node.name&&n.node.getComponent("Getbone").init()}})},start:function(){},onDestroy:function(){cc.sys.isNative&&this.armatureDisplay._factory.clear(),cc.loader.releaseResDir(this.dragonDir)}}),cc._RF.pop()},{}],gameUIscr:[function(i,e){"use strict";cc._RF.push(e,"6d7189AwpVFaILr5D/wpyYx","gameUIscr"),cc.Class({extends:cc.Component,properties:{gameover:cc.Node,gamenext:cc.Node,gamerestart:cc.Node,xingdonghua:cc.Animation,clickaudio:cc.AudioSource},Gameover:function(){gameState=3,this.gameover.active=!0},Gamenext:function(){gameState=4,this.gamenext.active=!0,3==heroData.xingxing&&this.xingdonghua.play("guankaxingxing3"),2==heroData.xingxing&&this.xingdonghua.play("guankaxingxing2"),heroData.caidan&&(this.gamenext.getChildByName("caidan").active=!0)},onclicksound:function(){this.clickaudio.play()},onclickres:function(){this.gamerestart.active=!0},onclickresclose:function(){this.gamerestart.active=!1},Onclickbegin:function(){q_moshi=1,new chushi,cc.director.loadScene("game")},Onclicknext:function(){q_moshi=1,q_xuanzheguanka++,new chushi,cc.director.loadScene("game")},Onclickhome:function(){cc.director.loadScene("mainScence")}}),cc._RF.pop()},{}],gamewxscr:[function(i,e){"use strict";cc._RF.push(e,"87a71obRZxLT5XhirZuW0+D","gamewxscr"),cc.Class({extends:cc.Component,properties:{thanknode:cc.Node,fenxiangid:null,animation:cc.Animation,helpbox:cc.Node},start:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&gameclub&&gameclub.hide()},fenxiang:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.animation.off("finished",this.fenxiang,this),this.thanknode.active=!1,(this.fenxiangid=1)&&window.wx.shareAppMessage({title:"\u55ef!\u633a\u6709\u610f\u601d\u7684\uff0c\u4f60\u4e5f\u4e00\u8d77\u6765\u5427\uff01",imageUrl:"https://myres-1256148877.cos.ap-chengdu.myqcloud.com/help/fenxiang.png"}),(this.fenxiangid=2)&&window.wx.shareAppMessage({title:"\u6e38\u620f\u592a\u96be\u4e86\uff0c\u5feb\u6765\u5e2e\u5e2e\u6211",imageUrl:"https://myres-1256148877.cos.ap-chengdu.myqcloud.com/help/fenxiang.png"}))},fenxiangwin:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.fenxiangid=1,this.playanim())},Onclickhelp:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(q_xuanzheguanka<20&&(heroData.help=!0,q_moshi=1,new chushi,cc.director.loadScene("game")),qudaoscr.showAD()),cc.sys.os==cc.sys.OS_ANDROID&&(this.helpbox.active=!0)},onclickOK:function(){this.helpbox.active=!1,q_xuanzheguanka<20&&(heroData.help=!0,q_moshi=1,new chushi,cc.director.loadScene("game"))},fenxianglose:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.fenxiangid=2,this.playanim())},playanim:function(){this.thanknode.active=!0;var i=this.animation.play("b1");i.repeatCount=2,i.speed=2,this.animation.on("finished",this.fenxiang,this)}}),cc._RF.pop()},{}],guankascr:[function(i,e){"use strict";cc._RF.push(e,"223b5DuryxI5IgCz75Ia3AQ","guankascr"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.Onclickbegin,this),this.node.on(cc.Node.EventType.TOUCH_END,this.Onclickend,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.Onclickout,this)},Onclickbegin:function(){"guankabtn"==this.node.name&&(this.node.scale=1.2)},Onclickend:function(){"guankabtn"==this.node.name&&(this.node.scale=1,new chushi,q_xuanzheguanka=this.node.getChildByName("label").getComponent(cc.Label).string-1,cc.director.loadScene("game"))},Onclickout:function(){"guankabtn"==this.node.name&&(this.node.scale=1)}}),cc._RF.pop()},{}],helpscr:[function(i,e){"use strict";cc._RF.push(e,"8dc5ejRQ41Ho5VP1pY9g6+X","helpscr"),cc.Class({extends:cc.Component,properties:{grap:cc.Graphics},start:function(){},onKeyUp:function(i){switch(i.keyCode){case cc.KEY.q:isjilu=!0;break;case cc.KEY.w:this.init();break;case cc.KEY.y:this.showhelp();break;case cc.KEY.s:this.save()}},init:function(){var i=this;cc.loader.loadRes("Maphelp/guanka"+q_xuanzheguanka,function(e,t){helps=t.json,i.showhelp()})},save:function(){jsb.fileUtils.writeStringToFile(JSON.stringify(helps),jsb.fileUtils.getWritablePath()+"/map/guanka"+q_xuanzheguanka+".json")},showhelp:function(){this.grap.clear();for(var i=0;i<helps.length;i++){this.grap.circle(helps[i].position.x,helps[i].position.y,30),this.grap.stroke();for(var e=0;e<helps[i].point.length;e++)this.grap.circle(helps[i].point[e].x+helps[i].position.x,helps[i].point[e].y+helps[i].position.y,1);this.grap.stroke()}}}),cc._RF.pop()},{}],loadguanka:[function(i,e){"use strict";var t;cc._RF.push(e,"98f65kcaZVHCLp7iApk+BvP","loadguanka"),cc.Class({extends:cc.Component,properties:{guankaprb:cc.Prefab,guankalock:cc.Prefab,guankapnode:cc.Prefab,caidanpreb:cc.Prefab,guankastrnode:cc.Prefab,content:cc.Node,target:cc.PageView,tanchuan:cc.Node,toggle1:cc.Node,toggle2:cc.Node,close:cc.AudioSource,click:cc.AudioSource,fanye:cc.AudioSource,bgaudio:cc.AudioSource,ban:cc.Node,guankaanim:cc.Animation,setanim:cc.Animation,helpanim:cc.Animation,xingxinglabel:cc.Label,caidanlabel:cc.Label,helpnode:cc.Node,exitnode:cc.Node},onLoad:function(){(t=this).chushiShuju(),cc.sys.os==cc.sys.OS_ANDROID&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,t.exitshow,t)},exitclick:function(){cc.director.end()},exitshow:function(){this.exitnode.active=!0},exithide:function(){this.exitnode.active=!1},callback:function(i){i.target.getComponent(cc.Button)},chushiShuju:function(){var i=cc.sys.localStorage.getItem("userData");i?userData=JSON.parse(i):(t.newUser(),cc.sys.localStorage.setItem("userData",JSON.stringify(userData))),t.jiazaiguanka(),t.loadxingxingshu(),t.scheduleOnce(t.qiehuan,.3),1==userData.caozuomoshi?(t.toggle1.active=!1,t.toggle2.active=!0):(t.toggle1.active=!0,t.toggle2.active=!1),userData.yinyue?(t.ban.active=!1,this.bgaudio.play()):(t.ban.active=!0,this.bgaudio.stop())},qiehuan:function(){var i=Math.floor(q_xuanzheguanka/18);t.target.scrollToPage(i)},loadxingxingshu:function(){for(var i=0,e=0,t=0;t<userData.guanka.length;t++)i+=userData.guanka[t].xingxing,userData.guanka[t].caidan&&e++;var a=3*userData.guanka.length;this.xingxinglabel.string=i+"/"+a,this.caidanlabel.string=e+"/7"},newUser:function(){var i={xingxing:0,step:1e4,caidan:!1,suoding:!1};userData.guanka[0]=i;for(var e=1;e<userData.guankan;e++)i={xingxing:0,step:1e4,caidan:!1,suoding:!0},userData.guanka[e]=i},closeclick:function(){this.close.play()},clickclick:function(){this.click.play()},fanyeclick:function(){this.fanye.play()},radioButtonClicked1:function(){userData.caozuomoshi=0,cc.sys.localStorage.setItem("userData",JSON.stringify(userData)),t.toggle1.active=!0,t.toggle2.active=!1},radioButtonClicked2:function(){userData.caozuomoshi=1,cc.sys.localStorage.setItem("userData",JSON.stringify(userData)),t.toggle1.active=!1,t.toggle2.active=!0},tanchuanshow:function(){t.setanim.play("setshow"),t.guankaanim.play("guankahide"),t.helpanim.play("hide")},tanchuanhide:function(){t.setanim.play("hide"),t.guankaanim.play("guankashow")},helpshow:function(){t.setanim.play("hide"),t.guankaanim.play("guankahide"),t.helpanim.play("helpshow")},helphide:function(){t.helpanim.play("hide"),t.guankaanim.play("guankashow")},musicclick:function(){userData.yinyue?(userData.yinyue=!1,this.bgaudio.stop(),this.ban.active=!0,cc.sys.localStorage.setItem("userData",JSON.stringify(userData))):(userData.yinyue=!0,this.bgaudio.play(),this.ban.active=!1,cc.sys.localStorage.setItem("userData",JSON.stringify(userData)))},clicknext:function(){var i=this.helpnode.position;this.helpnode.position.x>-2260&&(i.x-=500,this.helpnode.position=i)},clickback:function(){var i=this.helpnode.position;this.helpnode.position.x<-260?(i.x+=500,this.helpnode.position=i):(i.x=-260,this.helpnode.position=i)},jiazaiguanka:function(){for(var i=0;i<userData.guankan;i++){if(i%18==0){var e=cc.instantiate(t.guankapnode);e.parent=t.content}if(1==userData.guanka[i].suoding)(s=cc.instantiate(t.guankalock)).parent=e,-1==q_xuanzheguanka&&(q_xuanzheguanka=i-1);else{(s=cc.instantiate(t.guankaprb)).parent=e,q_dqguanka=i,userData.guanka[i].caidan&&(cc.instantiate(t.caidanpreb).parent=s);var a,n=s.getChildByName("xingxing").children;for(a=0;a<userData.guanka[i].xingxing;a++)n[a].active=!0}s.getChildByName("label").getComponent(cc.Label).string=i+1}var o=["\u656c\u8bf7\u671f\u5f85","\u656c\u8bf7\u671f\u5f85","\u53cd\u6b63\u6ca1\u4eba","\u53ef\u4ee5\u901a\u5173","\u6682\u65f6\u4e0d\u505a","\u4efb\u6027!!"];for(i=0;i<6;i++){var s;(s=cc.instantiate(t.guankastrnode)).parent=e,s.getChildByName("label").getComponent(cc.Label).string=o[i]}}}),cc._RF.pop()},{}],loadscr:[function(i,e){"use strict";var t,a;cc._RF.push(e,"fa8abSIUthLcZArOLiMQiuw","loadscr");var n=!1;cc.Class({extends:cc.Component,properties:{jiazainode:cc.Node},onLoad:function(){var i=cc.view.getFrameSize();this.gamewidth=i.width/2-50,this.gameheigth=i.height/2-20,(a=this).chushishuju(),cc.sys.os==cc.sys.OS_ANDROID&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,a.onKeyUp,a)},onKeyUp:function(i){switch(i.keyCode){case cc.KEY.back:cc.director.end()}},chushishuju:function(){var i=cc.sys.localStorage.getItem("userData");i?userData=JSON.parse(i):(a.newUser(),cc.sys.localStorage.setItem("userData",JSON.stringify(userData)),cc.sys.platform==cc.sys.WECHAT_GAME&&(cc.director.preloadScene("mainScence"),cc.director.preloadScene("game"),this.jiazainode.active=!0))},newUser:function(){var i={xingxing:0,step:1e4,caidan:!1,suoding:!1};userData.guanka[0]=i;for(var e=1;e<userData.guankan;e++)i={xingxing:0,step:1e4,caidan:!1,suoding:!0},userData.guanka[e]=i},clickguankamoshi:function(){var i=this;cc.sys.platform==cc.sys.WECHAT_GAME?userData.firstgame?wx.authorize({scope:"scope.userInfo",success:function(){cc.director.loadScene("mainScence")},fail:function(){},complete:function(){userData.firstgame=!1,cc.sys.localStorage.setItem("userData",JSON.stringify(userData))}}):wx.getSetting({success:function(e){if(e.authSetting["scope.userInfo"])cc.director.loadScene("mainScence");else{if(n)return;n=!0,i.textclick()}}}):cc.director.loadScene("mainScence")},textclick:function(){(t=wx.createUserInfoButton({type:"text",text:"\u767b\u5f55",style:{left:this.gamewidth,top:this.gameheigth,width:100,height:40,lineHeight:40,backgroundColor:"#1F9741",color:"#ffffff",textAlign:"center",fontSize:20,borderRadius:4}})).onTap(this.callback)},callback:function(){t.hide(),a.clickguankamoshi(),n=!1}}),cc._RF.pop()},{}],"one-side-platform":[function(i,e){"use strict";cc._RF.push(e,"11184IhWQ9FMKf3+vzffWAv","one-side-platform"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.pointVelPlatform=cc.v2(),this.pointVelOther=cc.v2(),this.relativeVel=cc.v2(),this.relativePoint=cc.v2()},onBeginContact:function(i,e,t){this._pointsCache;for(var a=t.body,n=e.body,o=i.getWorldManifold().points,s=this.pointVelPlatform,c=this.pointVelOther,r=this.relativeVel,h=this.relativePoint,u=0;u<o.length;u++){if(n.getLinearVelocityFromWorldPoint(o[u],s),a.getLinearVelocityFromWorldPoint(o[u],c),n.getLocalVector(c.subSelf(s),r),r.y<-32)return;if(r.y<32){n.getLocalPoint(o[u],h);var g=e.getAABB().height/2;if(h.y>g-3.2)return}}i.disabled=!0}}),cc._RF.pop()},{}],paihangbtnscr:[function(i,e){"use strict";var t;cc._RF.push(e,"5f3d8RTUYJMGoeNycIioBJ3","paihangbtnscr"),cc.Class({extends:cc.Component,properties:{mingci:cc.Label,touxiang:cc.Sprite,mingcheng:cc.Label,defen:cc.Label,caidannode:cc.Node,xingxingnode:cc.Node},onLoad:function(){t=this},init:function(i,e,t){this.mingci.string=i,this.mingcheng.string=e.nikename;var a=0!=e.KVDataList.length?e.KVDataList[0].value:0;this.defen.string=a.toString(),this.createImage(avatarUrl),"star"==t?this.xingxingnode.active=!0:this.caidannode.active=!0},createImage:function(i){try{cc.loader.load({url:i,type:"jpg"},function(i,e){t.touxiang.spriteFrame=new cc.SpriteFrame(e)})}catch(e){}}}),cc._RF.pop()},{}],qudaoscr:[function(i,e){"use strict";cc._RF.push(e,"0d015XukjFNDb40Dg06x7bq","qudaoscr"),window.fbsys=!1,window.ADload=!1,window.qudaoscr={setscore:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){for(var i=0,e=0,t=0;t<userData.guanka.length;t++)i+=userData.guanka[t].xingxing,userData.guanka[t].caidan&&e++;var a={score:e,update_time:new Date},n={score:i,update_time:new Date};wx.setUserCloudStorage({KVDataList:[{key:"xingxing",value:n},{key:"caidan",value:a}],success:function(i){console.log("setUserCloudStorage","success",i)},fail:function(){console.log("setUserCloudStorage","fail")},complete:function(){console.log("setUserCloudStorage","ok")}})}},loadAD:function(){ADload||(console.log("xxxx"),cc.sys.platform==cc.sys.WECHAT_GAME&&(window.myvideoAD=wx.createRewardedVideoAd("12345678"),myvideoAD.load(),myvideoAD.onLoad(function(){ADload=!0,console.log(myvideoAD)})))},showAD:function(){console.log(cc.sys.platform+"  "+fbsys),cc.sys.platform==cc.sys.WECHAT_GAME&&(window.ADload?(myvideoAD.show(),myvideoAD.onClose(function(i){i?(heroData.help=!0,q_moshi=1,new chushi,cc.director.loadScene("game"),ADload=!1,qudaoscr.loadAD(),console.log("duile")):(heroData.help=!1,q_moshi=1,new chushi,cc.director.loadScene("game"),console.log("cuole"))})):qudaoscr.loadAD())}},cc._RF.pop()},{}],starScr:[function(i,e){"use strict";cc._RF.push(e,"9ad55ivqjNPfanVT6Vms0ks","starScr"),cc.Class({extends:cc.Component,properties:{guankalabel:cc.Label},init:function(){var i=this.node.getChildByName("starnull").children,e=this.node.getChildByName("star").children;i[0].x=-220,e[0].x=-220,i[1].x=mapxingxing.step3/mapxingxing.maxstep*440-220,e[1].x=mapxingxing.step3/mapxingxing.maxstep*440-220,i[2].x=440*(mapxingxing.step3+mapxingxing.step2)/mapxingxing.maxstep-220,e[2].x=440*(mapxingxing.step3+mapxingxing.step2)/mapxingxing.maxstep-220,this.guankalabel.string=q_xuanzheguanka+1}}),cc._RF.pop()},{}],use_reversed_rotateTo:[function(i,e){"use strict";cc._RF.push(e,"12c10VKwH9FDY3/WpMsosCT","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(i,e){"use strict";cc._RF.push(e,"d5c6a5yL+lFPLMoCXv2bKA5","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],wxscr:[function(i,e){"use strict";cc._RF.push(e,"8b79fSPEVZCqLt9lY9Qx+3L","wxscr"),cc.Class({extends:cc.Component,properties:{thanknode:cc.Node,animation:cc.Animation,paihangnode:cc.Node,paihangbtnprab:cc.Prefab,paihangView:cc.Sprite,guankanode:cc.Node,helpnode:cc.Node,setnode:cc.Node},onLoad:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.tex=new cc.Texture2D,window.sharedCanvas.width=960,window.sharedCanvas.height=640)},start:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(gameclub?gameclub.show():gameclub=window.wx.createGameClubButton({icon:"green",style:{left:15,top:120,width:50,height:50}}))},fenxiang:function(){this.animation.off("finished",this.fenxiang,this),this.thanknode.active=!1,cc.sys.platform==cc.sys.WECHAT_GAME&&window.wx.shareAppMessage({title:"\u8fd9\u6e38\u620f\u5f88\u597d\u73a9\uff0c\u5feb\u6765\u548c\u6211\u4e00\u8d77\u73a9\u5427",imageUrl:"https://myres-1256148877.cos.ap-chengdu.myqcloud.com/help/fenxiang.png"})},clickfenxiang:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&this.playanim()},playanim:function(){this.thanknode.active=!0;var i=this.animation.play("b2");i.repeatCount=3,i.speed=1,this.animation.on("finished",this.fenxiang,this)},onclosepaihang:function(){this.paihangnode.active=!1,this.helpnode.active=!0,this.setnode.active=!0,this.guankanode.active=!0},onclickpaihang:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.paihangnode.active=!0,this.helpnode.active=!1,this.setnode.active=!1,this.guankanode.active=!1,window.wx.postMessage({messageType:1}))},onclickxingxing:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&window.wx.postMessage({messageType:1})},onclickcaidan:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&window.wx.postMessage({messageType:2})},_updateSubDomainCanvas:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&this.paihangnode.active&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.paihangView.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(){this._updateSubDomainCanvas()}}),cc._RF.pop()},{}],yuanscr:[function(i,e){"use strict";cc._RF.push(e,"fdd2aRswxJJJrIZnVO2hMUV","yuanscr"),cc.Class({extends:cc.Component,properties:{rigidbody:cc.RigidBody,phy:cc.PhysicsCircleCollider},init:function(i,e){1==e&&(this.rigidbody.type=cc.RigidBodyType.Dynamic,this.node.color=dycolor),this.phy.radius=i,this.node.width=2*i,this.node.height=2*i,this.phy.apply()},start:function(){}}),cc._RF.pop()},{}]},{},["Bianliang","Cameragensui","dragonBone","gameUIscr","gamewxscr","helpscr","starScr","Getbone","Girlscr","Grapscr","Hero","Loadmap","Moveto","Touchanim","guankascr","loadguanka","loadscr","paihangbtnscr","wxscr","one-side-platform","qudaoscr","yuanscr","use_reversed_rotateTo","use_v2.0.x_cc.Toggle_event"]);